{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/components/client-provider/index.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ClientProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call ClientProvider() from the server but ClientProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/components/client-provider/index.tsx\",\n    \"ClientProvider\",\n);\n"],"names":[],"mappings":";;;;;;AACO,MAAM,iBAAiB,CAAA,GAAA,wdAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2DACA"}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/lib/fontsans_7dc1eb7c.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"className\": \"fontsans_7dc1eb7c-module__ibKqtq__className\",\n  \"variable\": \"fontsans_7dc1eb7c-module__ibKqtq__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/lib/fontsans_7dc1eb7c.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/local/cssmodule.module.css?{%22path%22:%22fonts.ts%22,%22import%22:%22%22,%22arguments%22:[{%22src%22:[{%22path%22:%22../assets/fonts/sf-pro-text-regular-webfont.woff2%22,%22weight%22:%22400%22,%22style%22:%22light%22},{%22path%22:%22../assets/fonts/sf-pro-text-regular-webfont.woff2%22,%22weight%22:%22500%22,%22style%22:%22normal%22},{%22path%22:%22../assets/fonts/sf-pro-text-semibold-webfont.woff2%22,%22weight%22:%22600%22,%22style%22:%22semibold%22},{%22path%22:%22../assets/fonts/sf-pro-text-medium-webfont.woff2%22,%22weight%22:%22600%22,%22style%22:%22medium%22},{%22path%22:%22../assets/fonts/sf-pro-text-bold-webfont.woff2%22,%22weight%22:%22700%22,%22style%22:%22bold%22}],%22variable%22:%22--font-sans%22}],%22variableName%22:%22fontSans%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'fontSans', 'fontSans Fallback'\",\n        \n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;;;AACA,MAAM,WAAW;IACb,WAAW,mJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;IAEhB;AACJ;AAEA,IAAI,mJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,mJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/lib/fontheading_f260b857.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"className\": \"fontheading_f260b857-module__sPPifW__className\",\n  \"variable\": \"fontheading_f260b857-module__sPPifW__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/lib/fontheading_f260b857.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/local/cssmodule.module.css?{%22path%22:%22fonts.ts%22,%22import%22:%22%22,%22arguments%22:[{%22src%22:%22../assets/fonts/CalSans-SemiBold.woff2%22,%22variable%22:%22--font-heading%22}],%22variableName%22:%22fontHeading%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'fontHeading', 'fontHeading Fallback'\",\n        \n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;;;AACA,MAAM,WAAW;IACb,WAAW,sJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;IAEhB;AACJ;AAEA,IAAI,sJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,sJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\nexport function isMobileView() {\n  return window.innerWidth <= 768\n}\n\nexport function fancyId() {\n  return Math.random().toString(36).substr(2, 9)\n}\n\nexport const getURL = (path: string = '') => {\n  // Check if NEXT_PUBLIC_SITE_URL is set and non-empty. Set this to your site URL in production env.\n  let url =\n    process?.env?.NEXT_PUBLIC_SITE_URL &&\n    process.env.NEXT_PUBLIC_SITE_URL.trim() !== ''\n      ? process.env.NEXT_PUBLIC_SITE_URL\n      : // If not set, check for NEXT_PUBLIC_VERCEL_URL, which is automatically set by Vercel.\n        process?.env?.NEXT_PUBLIC_VERCEL_URL &&\n          process.env.NEXT_PUBLIC_VERCEL_URL.trim() !== ''\n        ? process.env.NEXT_PUBLIC_VERCEL_URL\n        : // If neither is set, default to localhost for local development.\n          'http://localhost:3000/'\n\n  // Trim the URL and remove trailing slash if exists.\n  url = url.replace(/\\/+$/, '')\n  // Make sure to include `https://` when not localhost.\n  url = url.includes('http') ? url : `https://${url}`\n  // Ensure path starts without a slash to avoid double slashes in the final URL.\n  path = path.replace(/^\\/+/, '')\n\n  // Concatenate the URL and the path.\n  return path ? `${url}/${path}` : url\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAGO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,yNAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,sLAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,SAAS;IACd,OAAO,OAAO,UAAU,IAAI;AAC9B;AAEO,SAAS;IACd,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;AAC9C;AAEO,MAAM,SAAS,CAAC,OAAe,EAAE;IACtC,mGAAmG;IACnG,IAAI,MACF,SAAS,KAAK,wBACd,QAAQ,GAAG,CAAC,oBAAoB,CAAC,IAAI,OAAO,KACxC,QAAQ,GAAG,CAAC,oBAAoB,GAEhC,SAAS,KAAK,0BACZ,QAAQ,GAAG,CAAC,sBAAsB,CAAC,IAAI,OAAO,KAC9C,QAAQ,GAAG,CAAC,sBAAsB,GAElC;IAER,oDAAoD;IACpD,MAAM,IAAI,OAAO,CAAC,QAAQ;IAC1B,sDAAsD;IACtD,MAAM,IAAI,QAAQ,CAAC,UAAU,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC;IACnD,+EAA+E;IAC/E,OAAO,KAAK,OAAO,CAAC,QAAQ;IAE5B,oCAAoC;IACpC,OAAO,OAAO,CAAC,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC,GAAG;AACnC"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/components/client-provider/modal-provider.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ModalProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call ModalProvider() from the server but ModalProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/components/client-provider/modal-provider.tsx\",\n    \"ModalProvider\",\n);\n"],"names":[],"mappings":";;;;;;AACO,MAAM,gBAAgB,CAAA,GAAA,wdAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,oEACA"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/components/ui-elements/sonner.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Toaster = registerClientReference(\n    function() { throw new Error(\"Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/components/ui-elements/sonner.tsx\",\n    \"Toaster\",\n);\n"],"names":[],"mappings":";;;;;;AACO,MAAM,UAAU,CAAA,GAAA,wdAAA,CAAA,0BAAuB,AAAD,EACzC;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,wDACA"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/env.mjs"],"sourcesContent":["import { createEnv } from '@t3-oss/env-nextjs'\nimport { z } from 'zod'\n\nexport const env = createEnv({\n  /**\n   * Specify your server-side environment variables schema here. This way you can ensure the app\n   * isn't built with invalid env vars.\n   */\n  server: {\n    NODE_ENV: z.enum(['development', 'test', 'production']),\n    // PRISMA_FIELD_ENCRYPTION_KEY: z.string().min(1),\n    RESEND_API_KEY: z.string().min(1),\n    SUPABASE_SERVICE_ROLE_KEY: z.string().min(1),\n  },\n\n  /**\n   * Specify your client-side environment variables schema here. This way you can ensure the app\n   * isn't built with invalid env vars. To expose them to the client, prefix them with\n   * `NEXT_PUBLIC_`.\n   */\n  client: {\n    NEXT_PUBLIC_SUPABASE_URL: z.string().min(1),\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: z.string().min(1),\n    NEXT_PUBLIC_HEIMDALL_API: z.string().min(1),\n    NEXT_PUBLIC_BASELIME_KEY: z.string().min(1),\n  },\n\n  /**\n   * You can't destruct `process.env` as a regular object in the Next.js edge runtimes (e.g.\n   * middlewares) or client-side so we need to destruct manually.\n   */\n  runtimeEnv: {\n    NODE_ENV: process.env.NODE_ENV,\n    // PRISMA_FIELD_ENCRYPTION_KEY: process.env.PRISMA_FIELD_ENCRYPTION_KEY,\n    NEXT_PUBLIC_SUPABASE_URL: process.env.NEXT_PUBLIC_SUPABASE_URL,\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n    RESEND_API_KEY: process.env.RESEND_API_KEY,\n    SUPABASE_SERVICE_ROLE_KEY: process.env.SUPABASE_SERVICE_ROLE_KEY,\n    NEXT_PUBLIC_HEIMDALL_API: process.env.NEXT_PUBLIC_HEIMDALL_API,\n    NEXT_PUBLIC_BASELIME_KEY: process.env.NEXT_PUBLIC_BASELIME_KEY,\n  },\n})\n"],"names":[],"mappings":";;;;;;;;AAGO,MAAM,MAAM,CAAA,GAAA,qRAAA,CAAA,YAAS,AAAD,EAAE;IAC3B;;;GAGC,GACD,QAAQ;QACN,UAAU,qLAAA,CAAA,IAAC,CAAC,IAAI,CAAC;YAAC;YAAe;YAAQ;SAAa;QACtD,kDAAkD;QAClD,gBAAgB,qLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC/B,2BAA2B,qLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IAC5C;IAEA;;;;GAIC,GACD,QAAQ;QACN,0BAA0B,qLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACzC,+BAA+B,qLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAC9C,0BAA0B,qLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACzC,0BAA0B,qLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IAC3C;IAEA;;;GAGC,GACD,YAAY;QACV,QAAQ;QACR,wEAAwE;QACxE,0BAA0B,QAAQ,GAAG,CAAC,wBAAwB;QAC9D,+BAA+B,QAAQ,GAAG,CAAC,6BAA6B;QACxE,gBAAgB,QAAQ,GAAG,CAAC,cAAc;QAC1C,2BAA2B,QAAQ,GAAG,CAAC,yBAAyB;QAChE,wBAAwB;QACxB,wBAAwB;IAC1B;AACF"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/app/layout.tsx"],"sourcesContent":["import { Metadata } from 'next'\n\nimport { ReactNode, Suspense } from 'react'\n\nimport { ClientProvider } from '@/components/client-provider'\nimport { fontSans } from '@/lib/fonts'\nimport { cn } from '@/lib/utils'\nimport '@/styles/globals.css'\nimport '@/styles/overwrites.css'\nimport '@/styles/date-picker.css'\nimport { ModalProvider } from '@/components/client-provider/modal-provider'\nimport { Toaster } from '@/components/ui-elements/sonner'\nimport { env } from '@/env.mjs'\nimport { BaselimeRum } from '@baselime/react-rum'\nimport { Analytics } from '@vercel/analytics/react'\nimport { SpeedInsights } from '@vercel/speed-insights/next'\nimport { GeistMono } from 'geist/font/mono'\n\nconst title = 'Plutus'\nconst description = 'Organize your finances like never before.'\n\nexport const metadata: Metadata = {\n  title: {\n    default: title,\n    template: `%s | ${title}`,\n  },\n  description,\n  manifest: 'https://plutus.francismasha.com/manifest.json',\n  keywords: [\n    'Finance Analytics',\n    'Open Source finance analytics',\n    'plutus',\n    'plutus analytics',\n  ],\n  icons: {\n    icon: 'https://plutus.francismasha.com/logo.svg',\n    shortcut: 'https://plutus.francismasha.com/favicon.ico',\n    apple: 'https://plutus.francismasha.com/apple-touch-icon.png',\n  },\n  appleWebApp: {\n    title,\n    capable: true,\n    statusBarStyle: 'black-translucent',\n    startupImage: ['https://plutus.francismasha.com/apple-touch-icon.png'],\n  },\n}\n\nexport const viewport = {\n  themeColor: [\n    { media: '(prefers-color-scheme: light)', color: 'white' },\n    { media: '(prefers-color-scheme: dark)', color: 'black' },\n  ],\n}\n\nconst baselimeApiKey = env.NEXT_PUBLIC_BASELIME_KEY\n\nexport default function RootLayout({ children }: { children: ReactNode }) {\n  return (\n    <html lang=\"en\" suppressHydrationWarning>\n      <body\n        className={cn(\n          'min-[100dvh] overscroll-none whitespace-pre-line font-sans !bg-alternative antialiased',\n          fontSans.variable,\n          GeistMono.variable,\n        )}\n      >\n        <BaselimeRum\n          apiKey={baselimeApiKey}\n          enableWebVitals\n          // fallback={<ErrorPage />}\n        >\n          <ClientProvider>\n            {children}\n            <ModalProvider />\n            <Suspense fallback={null}>\n              <Toaster\n                className=\"font-sans font-normal\"\n                position=\"bottom-right\"\n                richColors\n              />\n            </Suspense>\n          </ClientProvider>\n        </BaselimeRum>\n        <Analytics />\n        <SpeedInsights />\n      </body>\n    </html>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,MAAM,QAAQ;AACd,MAAM,cAAc;AAEb,MAAM,WAAqB;IAChC,OAAO;QACL,SAAS;QACT,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC;IAC3B;IACA;IACA,UAAU;IACV,UAAU;QACR;QACA;QACA;QACA;KACD;IACD,OAAO;QACL,MAAM;QACN,UAAU;QACV,OAAO;IACT;IACA,aAAa;QACX;QACA,SAAS;QACT,gBAAgB;QAChB,cAAc;YAAC;SAAuD;IACxE;AACF;AAEO,MAAM,WAAW;IACtB,YAAY;QACV;YAAE,OAAO;YAAiC,OAAO;QAAQ;QACzD;YAAE,OAAO;YAAgC,OAAO;QAAQ;KACzD;AACH;AAEA,MAAM,iBAAiB,mHAAA,CAAA,MAAG,CAAC,wBAAwB;AAEpC,SAAS,WAAW,EAAE,QAAQ,EAA2B;IACtE,qBACE,idAAC;QAAK,MAAK;QAAK,wBAAwB;kBACtC,cAAA,idAAC;YACC,WAAW,CAAA,GAAA,2HAAA,CAAA,KAAE,AAAD,EACV,0FACA,8KAAA,CAAA,WAAQ,CAAC,QAAQ,EACjB,mZAAA,CAAA,YAAS,CAAC,QAAQ;;8BAGpB,idAAC,wPAAA,CAAA,cAAW;oBACV,QAAQ;oBACR,eAAe;8BAGf,cAAA,idAAC,yJAAA,CAAA,iBAAc;;4BACZ;0CACD,idAAC,qKAAA,CAAA,gBAAa;;;;;0CACd,idAAC,waAAA,CAAA,WAAQ;gCAAC,UAAU;0CAClB,cAAA,idAAC,sJAAA,CAAA,UAAO;oCACN,WAAU;oCACV,UAAS;oCACT,UAAU;;;;;;;;;;;;;;;;;;;;;;8BAKlB,idAAC,gXAAA,CAAA,YAAS;;;;;8BACV,idAAC,uXAAA,CAAA,gBAAa;;;;;;;;;;;;;;;;AAItB"}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/app/error.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/apps/web/app/error.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/error.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;;;uCACe,CAAA,GAAA,wdAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsQ,GACnS,oCACA"}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/app/not-found.tsx/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/apps/web/app/not-found.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/app/not-found.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;;;uCACe,CAAA,GAAA,wdAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA0Q,GACvS,wCACA"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 470, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/app/favicon.ico.mjs (structured image object)"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 48, height: 48 }\n"],"names":[],"mappings":";;;;;;uCACe;IAAE,KAAA,0HAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;AAAG"}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/constants/messages.ts"],"sourcesContent":["const messages = {\n  success: 'Successfully added!',\n  updated: 'Successfully updated!',\n  deleted: 'Successfully deleted!',\n  loading: 'Loading...',\n  error: 'Error occurred, please try again.',\n  serverError: 'Internal Server Error',\n  paymentSuccess: 'Your payment is successful, page will reload in 6 seconds.',\n  paymentCancelled: 'Payment is cancelled, please try again',\n  premiumUpgrade: 'Upgrade for access to premium features.',\n  request: {\n    failed: 'Failed to get the data',\n    invalid: 'Invalid request',\n  },\n  account: {\n    doesntexist: 'No such account, Sign up instead.',\n    exist: 'This account already exists, Sign in instead.',\n    unauthorized: 'Unauthorized request',\n  },\n  export: 'Export will begin shortly.',\n  payments: {\n    success: 'Your payment is successful, page will reload in 6 seconds.',\n    dismissed: 'Payment is cancelled, please try again',\n  },\n}\n\nexport const emails = {\n  email: 'plutus@francismasha.com',\n  feedback: {\n    subject: '🎉 New Feedback Received',\n    sent: 'Feedback received.',\n    failed: 'Failed to send, please try again.',\n  },\n  account: {\n    deleted: 'Your Plutus account is Deleted!',\n  },\n  welcome: {\n    subject: '✨ Welcome to Plutus',\n  },\n  usageLimit: {\n    premiumExpired: {\n      subject: 'Your Premium Plan Expired!',\n      message: 'Your premium plan limit is reached, renew again to continue.',\n    },\n    premium: {\n      subject: 'Your Premium Plan usage exceeded!',\n      message: 'Your premium plan limit is reached, renew to continue.',\n    },\n    basic: {\n      subject: 'Your Basic Plan usage exceeded!',\n      message: 'Your basic plan limit is reached, upgrade to premium plan.',\n    },\n  },\n  sent: 'We just sent an email with magic link, check your inbox.',\n  from: 'Masha from Plutus <plutus@francismasha.com>',\n  login: { subject: 'Sign in link for Plutus' },\n  register: { subject: 'Sign up link for Plutus' },\n}\n\nexport default messages\n"],"names":[],"mappings":";;;;AAAA,MAAM,WAAW;IACf,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,OAAO;IACP,aAAa;IACb,gBAAgB;IAChB,kBAAkB;IAClB,gBAAgB;IAChB,SAAS;QACP,QAAQ;QACR,SAAS;IACX;IACA,SAAS;QACP,aAAa;QACb,OAAO;QACP,cAAc;IAChB;IACA,QAAQ;IACR,UAAU;QACR,SAAS;QACT,WAAW;IACb;AACF;AAEO,MAAM,SAAS;IACpB,OAAO;IACP,UAAU;QACR,SAAS;QACT,MAAM;QACN,QAAQ;IACV;IACA,SAAS;QACP,SAAS;IACX;IACA,SAAS;QACP,SAAS;IACX;IACA,YAAY;QACV,gBAAgB;YACd,SAAS;YACT,SAAS;QACX;QACA,SAAS;YACP,SAAS;YACT,SAAS;QACX;QACA,OAAO;YACL,SAAS;YACT,SAAS;QACX;IACF;IACA,MAAM;IACN,MAAM;IACN,OAAO;QAAE,SAAS;IAA0B;IAC5C,UAAU;QAAE,SAAS;IAA0B;AACjD;uCAEe"}},
    {"offset": {"line": 552, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/lib/apiUrls.ts"],"sourcesContent":["export const apiUrls = {\n  user: {\n    upgrade: '/api/user/upgrade',\n    modify: '/api/user',\n    usage: 'api/user/usage',\n    onboarding: '/api/user/onboarding',\n  },\n  auth: {\n    login: '/api/auth/login',\n    register: '/api/auth/register',\n  },\n  expenses: {\n    add: '/api/expenses/add',\n    modify: '/api/expenses',\n    getExpenses: ({ from, to }: { from: string; to: string }) =>\n      `/api/expenses?from=${from}&to=${to}`,\n  },\n  investments: {\n    add: '/api/investments/add',\n    modify: '/api/investments',\n    getInvestments: ({ from, to }: { from: string; to: string }) =>\n      `/api/investments?from=${from}&to=${to}`,\n  },\n  income: {\n    add: '/api/income/add',\n    modify: '/api/income',\n    getIncome: ({ from, to }: { from: string; to: string }) =>\n      `/api/income?from=${from}&to=${to}`,\n  },\n  subscriptions: {\n    add: '/api/subscriptions/add',\n    modify: '/api/subscriptions',\n    getSubscriptions: ({ from, to }: { from: string; to: string }) =>\n      `/api/subscriptions?from=${from}&to=${to}`,\n  },\n  feedback: {\n    add: `/api/feedback`,\n  },\n}\n"],"names":[],"mappings":";;;AAAO,MAAM,UAAU;IACrB,MAAM;QACJ,SAAS;QACT,QAAQ;QACR,OAAO;QACP,YAAY;IACd;IACA,MAAM;QACJ,OAAO;QACP,UAAU;IACZ;IACA,UAAU;QACR,KAAK;QACL,QAAQ;QACR,aAAa,CAAC,EAAE,IAAI,EAAE,EAAE,EAAgC,GACtD,CAAC,mBAAmB,EAAE,KAAK,IAAI,EAAE,GAAG,CAAC;IACzC;IACA,aAAa;QACX,KAAK;QACL,QAAQ;QACR,gBAAgB,CAAC,EAAE,IAAI,EAAE,EAAE,EAAgC,GACzD,CAAC,sBAAsB,EAAE,KAAK,IAAI,EAAE,GAAG,CAAC;IAC5C;IACA,QAAQ;QACN,KAAK;QACL,QAAQ;QACR,WAAW,CAAC,EAAE,IAAI,EAAE,EAAE,EAAgC,GACpD,CAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE,GAAG,CAAC;IACvC;IACA,eAAe;QACb,KAAK;QACL,QAAQ;QACR,kBAAkB,CAAC,EAAE,IAAI,EAAE,EAAE,EAAgC,GAC3D,CAAC,wBAAwB,EAAE,KAAK,IAAI,EAAE,GAAG,CAAC;IAC9C;IACA,UAAU;QACR,KAAK,CAAC,aAAa,CAAC;IACtB;AACF"}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/lib/supabase/admin.ts"],"sourcesContent":["import { Database } from '@/lib/database.types'\nimport { createClient } from '@supabase/supabase-js'\n\nexport const supabaseAdmin = createClient<Database>(\n  process.env.NEXT_PUBLIC_SUPABASE_URL ?? '',\n  process.env.SUPABASE_SERVICE_ROLE_KEY ?? '',\n  { auth: { persistSession: false } },\n)\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,gBAAgB,CAAA,GAAA,iQAAA,CAAA,eAAY,AAAD,EACtC,QAAQ,GAAG,CAAC,wBAAwB,IAAI,IACxC,QAAQ,GAAG,CAAC,yBAAyB,IAAI,IACzC;IAAE,MAAM;QAAE,gBAAgB;IAAM;AAAE"}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 616, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/lib/supabase/server.ts"],"sourcesContent":["import { env } from '@/env.mjs'\nimport { Database } from '@/lib/database.types'\nimport { type CookieOptions, createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\n\nexport const createClient = () => {\n  const cookieStore = cookies()\n\n  return createServerClient<Database>(\n    env.NEXT_PUBLIC_SUPABASE_URL,\n    env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n\n    {\n      cookies: {\n        get(name: string) {\n          return cookieStore.get(name)?.value\n        },\n        set(name: string, value: string, options: CookieOptions) {\n          try {\n            cookieStore.set({ name, value, ...options })\n          } catch (_error) {}\n        },\n        remove(name: string, options: CookieOptions) {\n          try {\n            cookieStore.set({ name, value: '', ...options })\n          } catch (_error) {}\n        },\n      },\n    },\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAKO,MAAM,eAAe;IAC1B,MAAM,cAAc,CAAA,GAAA,wVAAA,CAAA,UAAO,AAAD;IAE1B,OAAO,CAAA,GAAA,gRAAA,CAAA,qBAAkB,AAAD,EACtB,mHAAA,CAAA,MAAG,CAAC,wBAAwB,EAC5B,mHAAA,CAAA,MAAG,CAAC,6BAA6B,EAEjC;QACE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAsB;gBACrD,IAAI;oBACF,YAAY,GAAG,CAAC;wBAAE;wBAAM;wBAAO,GAAG,OAAO;oBAAC;gBAC5C,EAAE,OAAO,QAAQ,CAAC;YACpB;YACA,QAAO,IAAY,EAAE,OAAsB;gBACzC,IAAI;oBACF,YAAY,GAAG,CAAC;wBAAE;wBAAM,OAAO;wBAAI,GAAG,OAAO;oBAAC;gBAChD,EAAE,OAAO,QAAQ,CAAC;YACpB;QACF;IACF;AAEJ"}},
    {"offset": {"line": 655, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 660, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/app/actions.ts"],"sourcesContent":["'use server'\n\nimport { signIn } from '@/auth'\nimport { emails } from '@/constants/messages'\nimport { apiUrls } from '@/lib/apiUrls'\nimport resend from '@/lib/email'\nimport { supabaseAdmin } from '@/lib/supabase/admin'\nimport { createClient } from '@/lib/supabase/server'\nimport { authSchema } from '@/lib/validations/auth'\nimport SignInEmail from '@/packages/transactional/emails/signin'\nimport SignUpEmail from '@/packages/transactional/emails/signup'\nimport WelcomeEmail from '@/packages/transactional/emails/welcome'\nimport { Tables } from '@/types_db'\nimport { revalidatePath } from 'next/cache'\nimport { redirect } from 'next/navigation'\nimport { z } from 'zod'\n\ntype FormData = z.infer<typeof authSchema>\ntype User = Tables<'users'>\n\nexport async function authenticate() {\n  await signIn('github', {\n    callbackUrl: '/overview',\n  })\n}\n\nexport async function login(\n  _prevState: string | undefined,\n  { email }: FormData,\n) {\n  const res = await fetch(apiUrls.auth.login, {\n    method: 'POST',\n    body: JSON.stringify({ email }),\n    headers: { 'Content-Type': 'application/json' },\n  })\n\n  return await res.json()\n}\n\nexport async function logout() {\n  const supabase = createClient()\n\n  const { error } = await supabase.auth.signOut()\n\n  if (error) {\n    console.log('Error logging out:', error.message)\n    return\n  }\n\n  revalidatePath('/', 'layout')\n  redirect('/')\n}\n\nexport async function getUser(email: string): Promise<User> {\n  const supabase = createClient()\n\n  const { data: user } = await supabase\n    .from('users')\n    .select('*')\n    .eq('email', email)\n    .single()\n  return user\n}\n\nexport async function updateUser({\n  id,\n  data,\n}: { id: string; data: Partial<User> }) {\n  const supabase = createClient()\n\n  const { data: user } = await supabase\n    .from('users')\n    .update({ data })\n    .eq('id', id)\n\n  return user\n}\n\nasync function signUpUser(user: User) {\n  const { email, new_signup_email } = user\n  try {\n    const { data, error } = await supabaseAdmin.auth.admin.generateLink({\n      type: 'magiclink',\n      email,\n      options: { redirectTo: '/' },\n    })\n\n    if (error) {\n      throw error\n    }\n\n    const { properties } = data\n    const { action_link } = properties\n\n    try {\n      await resend.emails.send({\n        from: emails.from,\n        subject: emails.register.subject,\n        to: [email],\n        react: SignUpEmail({ action_link }) as React.ReactElement,\n      })\n    } catch (err: any) {\n      throw err\n    }\n  } catch (error: any) {\n    console.error(error)\n  }\n}\n\nasync function signInUser(user: User) {\n  const { email, new_signup_email } = user\n  try {\n    const { data, error } = await supabaseAdmin.auth.admin.generateLink({\n      type: 'magiclink',\n      email,\n      options: { redirectTo: '/overview' },\n    })\n\n    if (error) {\n      throw error\n    }\n\n    const { properties } = data\n    const { action_link } = properties\n\n    try {\n      if (!user.new_signup_email) {\n        await resend.emails.send({\n          from: emails.from,\n          subject: emails.welcome.subject,\n          to: [user.email],\n          react: WelcomeEmail(),\n        })\n        await updateUser({ id: user.id, data: { new_signup_email: true } })\n      }\n      await resend.emails.send({\n        from: emails.from,\n        subject: emails.login.subject,\n        to: [email],\n        react: SignInEmail({ action_link }),\n      })\n    } catch (err: any) {\n      throw err\n    }\n  } catch (error: any) {\n    console.error(error)\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 846, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/auth.config.ts"],"sourcesContent":["import { getUser } from '@/app/actions'\nimport { env } from '@/env.mjs'\nimport { SupabaseAdapter } from '@auth/supabase-adapter'\nimport { NextAuthConfig } from 'next-auth'\nimport GitHub from 'next-auth/providers/github'\n\nexport const authConfig = {\n  adapter: SupabaseAdapter({\n    url: env.NEXT_PUBLIC_SUPABASE_URL,\n    secret: env.SUPABASE_SERVICE_ROLE_KEY,\n  }),\n  providers: [GitHub({ allowDangerousEmailAccountLinking: true })],\n  pages: {\n    signIn: '/',\n  },\n  callbacks: {\n    async authorized({ auth, request: { nextUrl } }) {\n      const isLoggedIn = !!auth?.user\n      const _user = await getUser(auth?.user?.email as string)\n      const isOnDashboard = nextUrl.pathname.startsWith('/dashboard')\n      if (isOnDashboard) {\n        return isLoggedIn\n        // Redirect unauthenticated users to login page\n      } else if (isLoggedIn) {\n        return Response.redirect(new URL('/overview', nextUrl))\n      }\n      return true\n    },\n  },\n  trustHost: true,\n} satisfies NextAuthConfig\n"],"names":[],"mappings":";;;;;;;;;;;;;AAMO,MAAM,aAAa;IACxB,SAAS,CAAA,GAAA,+QAAA,CAAA,kBAAe,AAAD,EAAE;QACvB,KAAK,mHAAA,CAAA,MAAG,CAAC,wBAAwB;QACjC,QAAQ,mHAAA,CAAA,MAAG,CAAC,yBAAyB;IACvC;IACA,WAAW;QAAC,CAAA,GAAA,iNAAA,CAAA,UAAM,AAAD,EAAE;YAAE,mCAAmC;QAAK;KAAG;IAChE,OAAO;QACL,QAAQ;IACV;IACA,WAAW;QACT,MAAM,YAAW,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE;YAC7C,MAAM,aAAa,CAAC,CAAC,MAAM;YAC3B,MAAM,QAAQ,MAAM,CAAA,GAAA,6HAAA,CAAA,UAAO,AAAD,EAAE,MAAM,MAAM;YACxC,MAAM,gBAAgB,QAAQ,QAAQ,CAAC,UAAU,CAAC;YAClD,IAAI,eAAe;gBACjB,OAAO;YACP,+CAA+C;YACjD,OAAO,IAAI,YAAY;gBACrB,OAAO,SAAS,QAAQ,CAAC,IAAI,IAAI,aAAa;YAChD;YACA,OAAO;QACT;IACF;IACA,WAAW;AACb"}},
    {"offset": {"line": 893, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 898, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/auth.ts"],"sourcesContent":["import { authConfig } from '@/auth.config'\nimport NextAuth from 'next-auth'\n\nexport const { auth, handlers, signIn, signOut } = NextAuth(authConfig)\n"],"names":[],"mappings":";;;;;;;;;;;;AAGO,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,0WAAA,CAAA,UAAQ,AAAD,EAAE,6HAAA,CAAA,aAAU"}},
    {"offset": {"line": 911, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/app/actions.ts [app-client] (ecmascript, action)"],"sourcesContent":["'use server'\n\nimport { signIn } from '@/auth'\nimport { emails } from '@/constants/messages'\nimport { apiUrls } from '@/lib/apiUrls'\nimport resend from '@/lib/email'\nimport { supabaseAdmin } from '@/lib/supabase/admin'\nimport { createClient } from '@/lib/supabase/server'\nimport { authSchema } from '@/lib/validations/auth'\nimport SignInEmail from '@/packages/transactional/emails/signin'\nimport SignUpEmail from '@/packages/transactional/emails/signup'\nimport WelcomeEmail from '@/packages/transactional/emails/welcome'\nimport { Tables } from '@/types_db'\nimport { revalidatePath } from 'next/cache'\nimport { redirect } from 'next/navigation'\nimport { z } from 'zod'\n\ntype FormData = z.infer<typeof authSchema>\ntype User = Tables<'users'>\n\nexport async function authenticate() {\n  await signIn('github', {\n    callbackUrl: '/overview',\n  })\n}\n\nexport async function login(\n  _prevState: string | undefined,\n  { email }: FormData,\n) {\n  const res = await fetch(apiUrls.auth.login, {\n    method: 'POST',\n    body: JSON.stringify({ email }),\n    headers: { 'Content-Type': 'application/json' },\n  })\n\n  return await res.json()\n}\n\nexport async function logout() {\n  const supabase = createClient()\n\n  const { error } = await supabase.auth.signOut()\n\n  if (error) {\n    console.log('Error logging out:', error.message)\n    return\n  }\n\n  revalidatePath('/', 'layout')\n  redirect('/')\n}\n\nexport async function getUser(email: string): Promise<User> {\n  const supabase = createClient()\n\n  const { data: user } = await supabase\n    .from('users')\n    .select('*')\n    .eq('email', email)\n    .single()\n  return user\n}\n\nexport async function updateUser({\n  id,\n  data,\n}: { id: string; data: Partial<User> }) {\n  const supabase = createClient()\n\n  const { data: user } = await supabase\n    .from('users')\n    .update({ data })\n    .eq('id', id)\n\n  return user\n}\n\nasync function signUpUser(user: User) {\n  const { email, new_signup_email } = user\n  try {\n    const { data, error } = await supabaseAdmin.auth.admin.generateLink({\n      type: 'magiclink',\n      email,\n      options: { redirectTo: '/' },\n    })\n\n    if (error) {\n      throw error\n    }\n\n    const { properties } = data\n    const { action_link } = properties\n\n    try {\n      await resend.emails.send({\n        from: emails.from,\n        subject: emails.register.subject,\n        to: [email],\n        react: SignUpEmail({ action_link }) as React.ReactElement,\n      })\n    } catch (err: any) {\n      throw err\n    }\n  } catch (error: any) {\n    console.error(error)\n  }\n}\n\nasync function signInUser(user: User) {\n  const { email, new_signup_email } = user\n  try {\n    const { data, error } = await supabaseAdmin.auth.admin.generateLink({\n      type: 'magiclink',\n      email,\n      options: { redirectTo: '/overview' },\n    })\n\n    if (error) {\n      throw error\n    }\n\n    const { properties } = data\n    const { action_link } = properties\n\n    try {\n      if (!user.new_signup_email) {\n        await resend.emails.send({\n          from: emails.from,\n          subject: emails.welcome.subject,\n          to: [user.email],\n          react: WelcomeEmail(),\n        })\n        await updateUser({ id: user.id, data: { new_signup_email: true } })\n      }\n      await resend.emails.send({\n        from: emails.from,\n        subject: emails.login.subject,\n        to: [email],\n        react: SignInEmail({ action_link }),\n      })\n    } catch (err: any) {\n      throw err\n    }\n  } catch (error: any) {\n    console.error(error)\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBO,eAAe;IACpB,MAAM,CAAA,GAAA,mHAAA,CAAA,SAAM,AAAD,EAAE,UAAU;QACrB,aAAa;IACf;AACF;AAEO,eAAe,MACpB,UAA8B,EAC9B,EAAE,KAAK,EAAY;IAEnB,MAAM,MAAM,MAAM,MAAM,6HAAA,CAAA,UAAO,CAAC,IAAI,CAAC,KAAK,EAAE;QAC1C,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;QAAM;QAC7B,SAAS;YAAE,gBAAgB;QAAmB;IAChD;IAEA,OAAO,MAAM,IAAI,IAAI;AACvB;AAEO,eAAe;IACpB,MAAM,WAAW,CAAA,GAAA,wIAAA,CAAA,eAAY,AAAD;IAE5B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE7C,IAAI,OAAO;QACT,QAAQ,GAAG,CAAC,sBAAsB,MAAM,OAAO;QAC/C;IACF;IAEA,CAAA,GAAA,sVAAA,CAAA,iBAAc,AAAD,EAAE,KAAK;IACpB,CAAA,GAAA,8YAAA,CAAA,WAAQ,AAAD,EAAE;AACX;AAEO,eAAe,QAAQ,KAAa;IACzC,MAAM,WAAW,CAAA,GAAA,wIAAA,CAAA,eAAY,AAAD;IAE5B,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAC1B,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,SAAS,OACZ,MAAM;IACT,OAAO;AACT;AAEO,eAAe,WAAW,EAC/B,EAAE,EACF,IAAI,EACgC;IACpC,MAAM,WAAW,CAAA,GAAA,wIAAA,CAAA,eAAY,AAAD;IAE5B,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAC1B,IAAI,CAAC,SACL,MAAM,CAAC;QAAE;IAAK,GACd,EAAE,CAAC,MAAM;IAEZ,OAAO;AACT;AAEA,eAAe,WAAW,IAAU;IAClC,MAAM,EAAE,KAAK,EAAE,gBAAgB,EAAE,GAAG;IACpC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uIAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;YAClE,MAAM;YACN;YACA,SAAS;gBAAE,YAAY;YAAI;QAC7B;QAEA,IAAI,OAAO;YACT,MAAM;QACR;QAEA,MAAM,EAAE,UAAU,EAAE,GAAG;QACvB,MAAM,EAAE,WAAW,EAAE,GAAG;QAExB,IAAI;YACF,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;gBACvB,MAAM,oIAAA,CAAA,SAAM,CAAC,IAAI;gBACjB,SAAS,oIAAA,CAAA,SAAM,CAAC,QAAQ,CAAC,OAAO;gBAChC,IAAI;oBAAC;iBAAM;gBACX,OAAO,YAAY;oBAAE;gBAAY;YACnC;QACF,EAAE,OAAO,KAAU;YACjB,MAAM;QACR;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC;IAChB;AACF;AAEA,eAAe,WAAW,IAAU;IAClC,MAAM,EAAE,KAAK,EAAE,gBAAgB,EAAE,GAAG;IACpC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uIAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;YAClE,MAAM;YACN;YACA,SAAS;gBAAE,YAAY;YAAY;QACrC;QAEA,IAAI,OAAO;YACT,MAAM;QACR;QAEA,MAAM,EAAE,UAAU,EAAE,GAAG;QACvB,MAAM,EAAE,WAAW,EAAE,GAAG;QAExB,IAAI;YACF,IAAI,CAAC,KAAK,gBAAgB,EAAE;gBAC1B,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;oBACvB,MAAM,oIAAA,CAAA,SAAM,CAAC,IAAI;oBACjB,SAAS,oIAAA,CAAA,SAAM,CAAC,OAAO,CAAC,OAAO;oBAC/B,IAAI;wBAAC,KAAK,KAAK;qBAAC;oBAChB,OAAO;gBACT;gBACA,MAAM,WAAW;oBAAE,IAAI,KAAK,EAAE;oBAAE,MAAM;wBAAE,kBAAkB;oBAAK;gBAAE;YACnE;YACA,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;gBACvB,MAAM,oIAAA,CAAA,SAAM,CAAC,IAAI;gBACjB,SAAS,oIAAA,CAAA,SAAM,CAAC,KAAK,CAAC,OAAO;gBAC7B,IAAI;oBAAC;iBAAM;gBACX,OAAO,YAAY;oBAAE;gBAAY;YACnC;QACF,EAAE,OAAO,KAAU;YACjB,MAAM;QACR;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC;IAChB;AACF"}},
    {"offset": {"line": 1102, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1106, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/apps/web/.next-internal/server/app/_not-found/page/actions.js"],"sourcesContent":["__turbopack_export_value__({\n  '0356ba95fdc15c7afd10e578f8efef275b76f050': (...args) => Promise.resolve(require('ACTIONS_MODULE0')).then(mod => (0, mod['login'])(...args)),\n  '08395a120a7224d00750f5a42fb7dcadc01e504c': (...args) => Promise.resolve(require('ACTIONS_MODULE0')).then(mod => (0, mod['updateUser'])(...args)),\n  '7b83cf61aa3634e06b52dd436b6e0ada333a3505': (...args) => Promise.resolve(require('ACTIONS_MODULE0')).then(mod => (0, mod['getUser'])(...args)),\n  '9bc17fed3ab7a65319715e464954a7eb93a4ba35': (...args) => Promise.resolve(require('ACTIONS_MODULE0')).then(mod => (0, mod['logout'])(...args)),\n  'ce1155e58bc640278628ddf59c08313ff38e37d5': (...args) => Promise.resolve(require('ACTIONS_MODULE0')).then(mod => (0, mod['authenticate'])(...args)),\n});"],"names":[],"mappings":"AAAA,2BAA2B;IACzB,4CAA4C,CAAC,GAAG,OAAS,QAAQ,OAAO,wGAA6B,IAAI,CAAC,CAAA,MAAO,CAAC,GAAG,GAAG,CAAC,QAAQ,KAAK;IACtI,4CAA4C,CAAC,GAAG,OAAS,QAAQ,OAAO,wGAA6B,IAAI,CAAC,CAAA,MAAO,CAAC,GAAG,GAAG,CAAC,aAAa,KAAK;IAC3I,4CAA4C,CAAC,GAAG,OAAS,QAAQ,OAAO,wGAA6B,IAAI,CAAC,CAAA,MAAO,CAAC,GAAG,GAAG,CAAC,UAAU,KAAK;IACxI,4CAA4C,CAAC,GAAG,OAAS,QAAQ,OAAO,wGAA6B,IAAI,CAAC,CAAA,MAAO,CAAC,GAAG,GAAG,CAAC,SAAS,KAAK;IACvI,4CAA4C,CAAC,GAAG,OAAS,QAAQ,OAAO,wGAA6B,IAAI,CAAC,CAAA,MAAO,CAAC,GAAG,GAAG,CAAC,eAAe,KAAK;AAC/I"}},
    {"offset": {"line": 1113, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}